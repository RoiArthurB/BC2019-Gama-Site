<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>References/GAMLReferences/VariablesAndAttributes · Test Site</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;h1&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;variables-and-attributes&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#variables-and-attributes&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Variables and Attributes&lt;/h1&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="References/GAMLReferences/VariablesAndAttributes · Test Site"/><meta property="og:type" content="website"/><meta property="og:url" content="https://roiarthurb.github.io/BC2019-Gama-Site/"/><meta property="og:description" content="&lt;h1&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;variables-and-attributes&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#variables-and-attributes&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Variables and Attributes&lt;/h1&gt;
"/><meta property="og:image" content="https://roiarthurb.github.io/BC2019-Gama-Site/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://roiarthurb.github.io/BC2019-Gama-Site/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/BC2019-Gama-Site/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://roiarthurb.github.io/BC2019-Gama-Site/blog/atom.xml" title="Test Site Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://roiarthurb.github.io/BC2019-Gama-Site/blog/feed.xml" title="Test Site Blog RSS Feed"/><link rel="stylesheet" href="/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><link rel="stylesheet" href="/BC2019-Gama-Site/css/main.css"/><script src="/BC2019-Gama-Site/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/BC2019-Gama-Site/"><img class="logo" src="/BC2019-Gama-Site/img/favicon.ico" alt="Test Site"/><h2 class="headerTitleWithLogo">Test Site</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/BC2019-Gama-Site/docs/doc1" target="_self">Docs</a></li><li class=""><a href="/BC2019-Gama-Site/help" target="_self">Help</a></li><li class=""><a href="/BC2019-Gama-Site/blog/" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">References/GAMLReferences/VariablesAndAttributes</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="variables-and-attributes"></a><a href="#variables-and-attributes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Variables and Attributes</h1>
<p>Variables and attributes represent named data that can be used in an expression. They can be accessed depending on their <em>scope</em>:</p>
<ul>
<li>the scope of attributes declared in a species is itself, its child species and its micro-species.</li>
<li>the scope of temporary variables is the one in which they have been declared, and all its sub-scopes.
Outside its <em>scope</em> of validity, an expression cannot use a variable or an attribute directly. However, attributes can be used in a remote fashion by using a dotted notation on a given agent (see <a href="#Remote_Access">here</a>).</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="table-of-contents"></a><a href="#table-of-contents" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Table of contents</h2>
<ul>
<li><a href="#variables-and-attributes">Variables and Attributes</a>
<ul>
<li><a href="#direct-access">Direct Access</a></li>
<li><a href="#remote-access">Remote Access</a></li>
</ul></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="direct-access"></a><a href="#direct-access" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Direct Access</h2>
<p>When an agent wants to use either one of the variables declared locally, one of the attributes declared in its species (or parent species), one of the attributes declared in the macro-species of its species, it can directly invoke its name and the compiler will do the rest (i.e. finding the variable or attribute in the right scope).
For instance, we can have a look at the following example:</p>
<pre><code class="hljs">species animal {
   <span class="hljs-built_in">float</span> energy &lt;- <span class="hljs-number">1000</span> min: <span class="hljs-number">0</span> max: <span class="hljs-number">2000</span> update: energy - <span class="hljs-number">0.001</span>;
   <span class="hljs-built_in">int</span> age_in_years &lt;- <span class="hljs-number">1</span> update: age_in_years + <span class="hljs-built_in">int</span> (time / <span class="hljs-number">365</span>);
   
   action eat (<span class="hljs-built_in">float</span> amount &lt;- <span class="hljs-number">0</span>) {
       <span class="hljs-built_in">float</span> gain &lt;- amount / age_in_years;
       energy &lt;- energy + gain;
   }

   <span class="hljs-built_in">ref</span>lex feed {
      <span class="hljs-built_in">int</span> food_found &lt;- rnd(<span class="hljs-number">100</span>);
      <span class="hljs-keyword">do</span> eat (amount: food_found); 
   }

}
</code></pre>
<ul>
<li><strong>Species declaration</strong></li>
</ul>
<blockquote>
<p>Everywhere in the species declaration, we are able to directly name and use:
* <code>time</code>, a global built-in variable,
* <code>energy</code> and <code>age_in_years</code>, the two species attributes.</p>
</blockquote>
<blockquote>
<p>Nevertheless, in the species declaration, but outside of the action <code>eat</code> and the reflex <code>feed</code>, we <strong>cannot</strong> name the variables:
* <code>amount</code>, the argument of <code>eat</code> action,
* <code>gain</code>, a local variable defined into the <code>eat</code> action,
* <code>food_found</code>, the local variable defined into the <code>feed</code> reflex.</p>
</blockquote>
<ul>
<li><strong><code>Eat</code> action declaration</strong></li>
</ul>
<blockquote>
<p>In the <code>eat</code> action declaration, we can directly name and use:
* <code>time</code>, a global built-in variable,
* <code>energy</code> and <code>age_in_years</code>, the two species attributes,
* <code>amount</code>, which is an argument to the action <code>eat</code>,
* <code>gain</code>, a temporary variable within the action.</p>
</blockquote>
<blockquote>
<p>We <strong>cannot</strong> name and use the variables:
* <code>food_found</code>, the local variable defined into the <code>feed</code> reflex.</p>
</blockquote>
<ul>
<li><strong><code>feed</code> reflex declaration</strong></li>
</ul>
<blockquote>
<p>Similarly, in the <code>feed</code> reflex declaration, we can directly name and use:
* <code>time</code>, a global built-in variable,
* <code>energy</code> and <code>age_in_years</code>, the two species variables,
* <code>food_found</code>, the local variable defined into the reflex.</p>
</blockquote>
<blockquote>
<p>But we <strong>cannot</strong> access to variables:
* <code>amount</code>, the argument of <code>eat</code> action,
* <code>gain</code>, a local variable defined into the <code>eat</code> action.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="remote-access"></a><a href="#remote-access" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Remote Access</h2>
<p>When an expression needs to get access to the attribute of an agent which does not belong to its scope of execution, a special notation (similar to that used in Java) has to be used:</p>
<pre><code class="hljs"><span class="hljs-comment">remote_agent.variable</span>
</code></pre>
<p>where remote_agent can be the name of an agent, an expression returning an agent, self, myself or each. For instance, if we modify the previous species by giving its agents the possibility to feed another agent found in its neighborhood, the result would be:</p>
<pre><code class="hljs">species animal {
   <span class="hljs-built_in">float</span> energy &lt;- <span class="hljs-number">1000</span> min: <span class="hljs-number">0</span> max: <span class="hljs-number">2000</span> update: energy - <span class="hljs-number">0.001</span>;
   <span class="hljs-built_in">int</span> age_in_years &lt;- <span class="hljs-number">1</span> update: age_in_years + <span class="hljs-built_in">int</span> (time / <span class="hljs-number">365</span>);
   action eat (<span class="hljs-built_in">float</span> amount &lt;- <span class="hljs-number">0.0</span>) {
       <span class="hljs-built_in">float</span> gain &lt;- amount / age_in_years;
       energy &lt;- energy + gain;
   }
   action feed (animal target){
       <span class="hljs-keyword">if</span> (agent_to_feed != nil) <span class="hljs-keyword">and</span> (agent_to_feed.energy &lt; energy { <span class="hljs-comment">// verifies that the agent exists and that it need to be fed</span>
            ask agent_to_feed {
                <span class="hljs-keyword">do</span> eat amount: myself.energy / <span class="hljs-number">10</span>; <span class="hljs-comment">// asks the agent to eat 10% of our own energy</span>
            }
            energy &lt;- energy - (energy / <span class="hljs-number">10</span>); <span class="hljs-comment">// reduces the energy by 10%</span>
       }
   }
   <span class="hljs-built_in">ref</span>lex {
       animal candidates &lt;- agents_overlapping (<span class="hljs-number">10</span> around agent.shape); gathers all the neighbors
       agent_to_feed value: candidates with_min_of (each.energy); <span class="hljs-comment">//grabs one agent with the lowest energy </span>
       <span class="hljs-keyword">do</span> feed target: agent_to_feed; <span class="hljs-comment">// tries to feed it</span>
   }
}
</code></pre>
<p>In this example, agent_to_feed.energy, myself.energy and each.energy show different remote accesses to the attribute energy. The dotted notation used here can be employed in assignments as well. For instance, an action allowing two agents to exchange their energy could be defined as:</p>
<pre><code class="hljs">action random_exchange {<span class="hljs-comment">//exchanges our energy with that of the closest agent</span>
     animal one_agent &lt;- agent_closest_to (self)/&gt;
     float temp  &lt;-one_agent.energy; <span class="hljs-comment">// temporary storage of the agent's energy</span>
     one_agent.energy &lt;- energy; <span class="hljs-comment">// assignment of the agent's energy with our energy</span>
     energy &lt;- temp;
}
</code></pre>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#table-of-contents">Table of contents</a></li><li><a href="#direct-access">Direct Access</a></li><li><a href="#remote-access">Remote Access</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/BC2019-Gama-Site/" class="nav-home"><img src="/BC2019-Gama-Site/img/favicon.ico" alt="Test Site" width="66" height="58"/></a><div><h5>Docs</h5><a href="/BC2019-Gama-Site/docs/en/doc1.html">Getting Started (or other categories)</a><a href="/BC2019-Gama-Site/docs/en/doc2.html">Guides (or other categories)</a><a href="/BC2019-Gama-Site/docs/en/doc3.html">API Reference (or other categories)</a></div><div><h5>Community</h5><a href="/BC2019-Gama-Site/en/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://discordapp.com/">Project Chat</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/BC2019-Gama-Site/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://opensource.facebook.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/BC2019-Gama-Site/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2019 GAMA-Platform</section></footer></div></body></html>