<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Boids Boids 3D Analysis · GAMA-Platform</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="GAMA, modeling made easy"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Boids Boids 3D Analysis · GAMA-Platform"/><meta property="og:type" content="website"/><meta property="og:url" content="https://roiarthurb.github.io/BC2019-Gama-Site/"/><meta property="og:description" content="GAMA, modeling made easy"/><meta property="og:image" content="https://roiarthurb.github.io/BC2019-Gama-Site/resources/images/general/GamaPlatform.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://roiarthurb.github.io/BC2019-Gama-Site/resources/images/general/GamaPlatform.png"/><link rel="shortcut icon" href="/BC2019-Gama-Site/resources/images/general/GamaPlatform.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://roiarthurb.github.io/BC2019-Gama-Site/blog/atom.xml" title="GAMA-Platform Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://roiarthurb.github.io/BC2019-Gama-Site/blog/feed.xml" title="GAMA-Platform Blog RSS Feed"/><link rel="stylesheet" href="/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js" async=""></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js" async=""></script><script type="text/javascript" src="/BC2019-Gama-Site/js/code-block-buttons.js" async=""></script><link rel="stylesheet" href="/BC2019-Gama-Site/css/main.css"/><script src="/BC2019-Gama-Site/js/codetabs.js"></script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/BC2019-Gama-Site/"><img class="logo" src="/BC2019-Gama-Site/resources/images/general/GamaPlatform.png" alt="GAMA-Platform"/><h2 class="headerTitleWithLogo">GAMA-Platform</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/BC2019-Gama-Site/docs/Home" target="_self">Docs</a></li><li class=""><a href="/BC2019-Gama-Site/help" target="_self">Help</a></li><li class=""><a href="/BC2019-Gama-Site/blog/" target="_self">Blog</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Boids Boids 3D Analysis</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="boids-3d-analysis"></a><a href="#boids-3d-analysis" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Boids 3D Analysis</h1>
<p>_Author : _</p>
<p>This model shows the movement of boids following a goal, and creating without their own volonty, a flock . Four experiments are proposed : start is the 3D display of the boids like a real world, trajectory_analysis like the name means is about the analysis of the trajectory of the boids, Space Time Cube adds two display to see the movement of the boids using the time as the z-axis, and the last one represents the differents camera available in GAMA.</p>
<p>Code of the model :</p>
<pre><code class="hljs">model boids 

global torus: torus_environment{ 
    <span class="hljs-comment">//Number of boids to represent</span>
    int number_of_agents parameter: <span class="hljs-string">'Number of agents'</span> &lt;- <span class="hljs-number">10</span> min: <span class="hljs-number">1</span> max: <span class="hljs-number">1000000</span>;
    <span class="hljs-comment">//Number of obstacles to represent</span>
    int number_of_obstacles parameter: <span class="hljs-string">'Number of obstacles'</span> &lt;- <span class="hljs-number">4</span> min: <span class="hljs-number">0</span>;
    <span class="hljs-comment">//Size of the boids</span>
    int boids_size parameter: <span class="hljs-string">'Boids size'</span> &lt;- <span class="hljs-number">20</span> min: <span class="hljs-number">1</span>;
    <span class="hljs-comment">//Maximal speed allowed for the boids</span>
    float maximal_speed parameter: <span class="hljs-string">'Maximal speed'</span> &lt;- <span class="hljs-number">15.0</span> min: <span class="hljs-number">0.1</span> max: <span class="hljs-number">15.0</span>;
    <span class="hljs-comment">//Speed radius</span>
    float  radius_speed parameter: <span class="hljs-string">'radius speed'</span> &lt;- <span class="hljs-number">0.5</span> min: <span class="hljs-number">0.1</span>;
    <span class="hljs-comment">//Cohesion factor of the boid group  in the range of a boid agent</span>
    int cohesion_factor parameter: <span class="hljs-string">'Cohesion Factor'</span> &lt;- <span class="hljs-number">200</span>;
    <span class="hljs-comment">//Alignment factor used for the boid group in the range of a boid agent</span>
    int alignment_factor parameter: <span class="hljs-string">'Alignment Factor'</span> &lt;- <span class="hljs-number">100</span>; 
    <span class="hljs-comment">//Minimal distance to move</span>
    float minimal_distance parameter: <span class="hljs-string">'Minimal Distance'</span> &lt;- <span class="hljs-number">10.0</span>; 
    <span class="hljs-comment">//Maximal turn done by the boids</span>
    int maximal_turn parameter: <span class="hljs-string">'Maximal Turn'</span> &lt;- <span class="hljs-number">90</span> min: <span class="hljs-number">0</span> max: <span class="hljs-number">359</span>; 
    
    <span class="hljs-comment">//Parameters of the environment and the simulations</span>
    int width_and_height_of_environment parameter: <span class="hljs-string">'Width/Height of the Environment'</span> &lt;- <span class="hljs-number">800</span>;  
    bool torus_environment parameter: <span class="hljs-string">'Toroidal Environment ?'</span> &lt;- <span class="hljs-literal">false</span>; 
    bool apply_cohesion &lt;- <span class="hljs-literal">true</span> parameter: <span class="hljs-string">'Apply Cohesion ?'</span>;
    bool apply_alignment &lt;- <span class="hljs-literal">true</span> parameter: <span class="hljs-string">'Apply Alignment ?'</span>;   
    bool apply_separation &lt;- <span class="hljs-literal">true</span> parameter: <span class="hljs-string">'Apply Separation ?'</span>;   
    bool apply_goal &lt;- <span class="hljs-literal">true</span> parameter: <span class="hljs-string">'Follow Goal ?'</span>; 
    bool apply_avoid &lt;- <span class="hljs-literal">true</span> parameter: <span class="hljs-string">'Apply Avoidance ?'</span>;   
    bool apply_wind &lt;- <span class="hljs-literal">true</span> parameter: <span class="hljs-string">'Apply Wind ?'</span>;     
    bool moving_obstacles &lt;- <span class="hljs-literal">false</span> parameter: <span class="hljs-string">'Moving Obstacles ?'</span>;    
    int bounds &lt;- int(width_and_height_of_environment / <span class="hljs-number">20</span>); 
    <span class="hljs-comment">//Wind vector </span>
    point wind_vector &lt;- {<span class="hljs-number">0</span>,<span class="hljs-number">0</span>} parameter: <span class="hljs-string">'Direction of the wind'</span>;  
    int goal_duration &lt;- <span class="hljs-number">30</span> update: (goal_duration - <span class="hljs-number">1</span>); 
    <span class="hljs-comment">//Goal location</span>
    point goal &lt;- {rnd (width_and_height_of_environment - <span class="hljs-number">2</span>) + <span class="hljs-number">1</span>, rnd (width_and_height_of_environment <span class="hljs-number">-2</span>) + <span class="hljs-number">1</span> }; 
    list images <span class="hljs-keyword">of</span>: image_file &lt;- [file(<span class="hljs-string">'../images/bird1.png'</span>),file(<span class="hljs-string">'../images/bird2.png'</span>),file(<span class="hljs-string">'../images/bird3.png'</span>)]; 
    string file_path_to_ocean &lt;- <span class="hljs-string">'../images/ocean.jpg'</span>;
    int xmin &lt;- bounds;    
    int ymin &lt;- bounds;  
    int xmax &lt;- (width_and_height_of_environment - bounds);    
    int ymax &lt;- (width_and_height_of_environment - bounds);   
    geometry shape &lt;- square(width_and_height_of_environment);


    <span class="hljs-comment">// flock's parameter </span>
    float two_boids_distance <span class="hljs-keyword">const</span>: <span class="hljs-literal">true</span> init: <span class="hljs-number">30.0</span>;  
    int merging_distance <span class="hljs-keyword">const</span>: <span class="hljs-literal">true</span> init: <span class="hljs-number">30</span>;
    bool create_flock  init: <span class="hljs-literal">false</span>;  
    
    init {
        <span class="hljs-comment">//Create the boids and place them randomlly</span>
        create boids number: number_of_agents { 
            location &lt;- {rnd (width_and_height_of_environment - <span class="hljs-number">2</span>) + <span class="hljs-number">1</span>, rnd (width_and_height_of_environment <span class="hljs-number">-2</span>) + <span class="hljs-number">1</span> };
        } 
         
         <span class="hljs-comment">//Create an obstacle and place it randomly</span>
        create obstacle number: number_of_obstacles {
            location &lt;- {rnd (width_and_height_of_environment - <span class="hljs-number">2</span>) + <span class="hljs-number">1</span>, rnd (width_and_height_of_environment <span class="hljs-number">-2</span>) + <span class="hljs-number">1</span> }; 
        }
        <span class="hljs-comment">//Create a goal and place it at the goal location</span>
        create  boids_goal number: <span class="hljs-number">1</span> {
            location &lt;- goal;
        }
        
        create aggregatedboids;
    }
    
    <span class="hljs-comment">//Reflex to create flock of boids considering the neighbors of each boids </span>
     reflex create_flocks {
        <span class="hljs-keyword">if</span> create_flock {
            <span class="hljs-comment">//Create a map using a boid agent as a key and the list of all its neighbors as the value for the key</span>
            map&lt;boids, list&lt;boids&gt;&gt; potentialBoidsNeighborsMap;
            
            <span class="hljs-comment">//Search all the boids within the two boids distance from a boid agent and put them in the map</span>
            loop one_boids over: boids {
                list&lt;boids&gt; free_neighbors &lt;- boids overlapping (one_boids.shape + (two_boids_distance));
                remove one_boids <span class="hljs-keyword">from</span>: free_neighbors;  

                <span class="hljs-keyword">if</span> !(empty (free_neighbors)) {
                    add (one_boids::free_neighbors) to: potentialBoidsNeighborsMap;
                } 
            }
            
            <span class="hljs-comment">//Sorting of all the boids considered as key in the map by the length of their neighbors</span>
            list&lt;boids&gt; sorted_free_boids &lt;- (potentialBoidsNeighborsMap.keys) sort_by (length (potentialBoidsNeighborsMap at each));
            <span class="hljs-comment">//Removing of all the boids which has been considered as a key of the map, but  which are already included in a bigger list of neighbors by one of them neighbors</span>
            loop one_boids over: sorted_free_boids {
                list&lt;boids&gt; one_boids_neighbors &lt;- potentialBoidsNeighborsMap at one_boids;
                
                <span class="hljs-keyword">if</span>  (one_boids_neighbors != nil) {
                    loop one_neighbor over: one_boids_neighbors {
                        remove one_neighbor <span class="hljs-keyword">from</span>: potentialBoidsNeighborsMap; 
                    }
                }
            }
            <span class="hljs-comment">//Remove all the duplicates key of potentialBoidsNeighborsMap</span>
            list&lt;boids&gt; boids_neighbors &lt;- (potentialBoidsNeighborsMap.keys);
            loop one_key over: boids_neighbors {
                put (remove_duplicates (( potentialBoidsNeighborsMap at (one_key)) + one_key)) at: one_key <span class="hljs-keyword">in</span>: potentialBoidsNeighborsMap;
            }
            
            <span class="hljs-comment">//Create a flock of boids considering the key of potentialBoidsNeighborsMap</span>
            loop one_key over: (potentialBoidsNeighborsMap.keys) {
                list&lt;boids&gt; micro_agents &lt;- potentialBoidsNeighborsMap at one_key;
                    
                <span class="hljs-keyword">if</span> ( (length (micro_agents)) &gt; <span class="hljs-number">1</span> ) {
                    create flock number: <span class="hljs-number">1</span> <span class="hljs-keyword">with</span>: [ color::rgb([rnd (<span class="hljs-number">255</span>), rnd (<span class="hljs-number">255</span>), rnd (<span class="hljs-number">255</span>)]) ] { 
                        capture micro_agents <span class="hljs-keyword">as</span>: boids_delegation;
                    }
                }
            } 
        }
    }  
}
<span class="hljs-comment">//Species boids_goal which represents the goal followed by the boids agent, using the skill moving</span>
species boids_goal skills: [moving] {
    float range <span class="hljs-keyword">const</span>: <span class="hljs-literal">true</span> init: <span class="hljs-number">20.0</span>;
    int radius &lt;<span class="hljs-number">-3</span>;
    
    <span class="hljs-comment">//Reflex to make the goal move in circle</span>
    reflex wander_in_circle{
        
        location &lt;- {world.shape.width/<span class="hljs-number">2</span> + world.shape.width/<span class="hljs-number">2</span> * cos (time*radius_speed), world.shape.width/<span class="hljs-number">2</span> + world.shape.width/<span class="hljs-number">2</span> * sin (time*radius_speed)};
        goal &lt;- location;
    }
    
    aspect <span class="hljs-keyword">default</span> {
        draw circle(<span class="hljs-number">10</span>) color: rgb (<span class="hljs-string">'red'</span>);
        draw circle(<span class="hljs-number">40</span>) color: rgb (<span class="hljs-string">'orange'</span>) size: <span class="hljs-number">40</span> empty: <span class="hljs-literal">true</span>;
    }
    
    aspect sphere{
        draw sphere(<span class="hljs-number">10</span>) color: rgb(<span class="hljs-string">'white'</span>);
    }
} 

<span class="hljs-comment">//Species flock which represents the flock of boids agents, managing the boids agents captured</span>
species flock  
{
    <span class="hljs-comment">//Represent the cohesion index of the flock</span>
    float cohesionIndex &lt;- two_boids_distance update: (two_boids_distance + (length (members)));
    rgb color &lt;- rgb ([<span class="hljs-number">64</span>, <span class="hljs-number">64</span>, <span class="hljs-number">64</span>]);
    geometry shape update: !(empty (members)) ? ( (polygon (members collect (boids_delegation (each)).location )) + <span class="hljs-number">2.0</span> ) : ( polygon ([ {rnd (width_and_height_of_environment), rnd (width_and_height_of_environment)} ]) );
     
    <span class="hljs-comment">//Species that will represent the boids agents captured or inside a flock</span>
    species boids_delegation parent: boids topology: topology(world.shape)  
    {
        list&lt;boids&gt; others -&gt; {( (boids_delegation overlapping (shape + range))) - self};
 
        <span class="hljs-comment">//Action to compute the mass center of the flock</span>
        action compute_mass_center type: point 
        {
            loop o over: others 
            {
                <span class="hljs-keyword">if</span>  dead(o) 
                {
                    <span class="hljs-keyword">do</span> write message: <span class="hljs-string">'in '</span> + name + <span class="hljs-string">' agent with others contains death agents'</span>; 
                } 
            }
         
            <span class="hljs-keyword">return</span> (length(others) &gt; <span class="hljs-number">0</span>) ? (mean (others collect (each.location)) ) : location;
        }

        reflex separation when: apply_separation {
        }
        
        reflex alignment when: apply_alignment {
        }
        <span class="hljs-comment">//Reflex to apply the cohesion on the boids agents</span>
        reflex cohesion when: apply_cohesion {
            point acc &lt;- (self compute_mass_center []) - location;
            acc &lt;- acc / cohesion_factor;
            velocity &lt;- velocity + acc;
        }
        
        reflex avoid when: apply_avoid {
        }       
    }
    <span class="hljs-comment">//Reflex to capture boids agents and release captured boids agents</span>
    reflex capture_release_boids {
         list&lt;boids_delegation&gt; removed_components &lt;- boids_delegation where ((each distance_to location) &gt; cohesionIndex );
         <span class="hljs-keyword">if</span> !(empty (removed_components)) {
            release removed_components;
         }
         
         list&lt;boids&gt; added_components &lt;- boids where ((each distance_to location) &lt; cohesionIndex );
         <span class="hljs-keyword">if</span> !(empty (added_components)) {
            capture added_components <span class="hljs-keyword">as</span>: boids_delegation;
         }
    }
    <span class="hljs-comment">//Reflexe to kill the flock if the boids agents contained is lower than 2</span>
    reflex dispose when: ((length (members)) &lt; <span class="hljs-number">2</span>) {
         release members;
         <span class="hljs-keyword">do</span> die;
    }
    <span class="hljs-comment">//Reflex to merge the flocks too close from each other</span>
    reflex merge_nearby_flocks {
        list&lt;flock&gt; nearby_flocks&lt;- (flock overlapping (shape +  merging_distance));
        <span class="hljs-keyword">if</span> !(empty (nearby_flocks)) {
            nearby_flocks &lt;- nearby_flocks sort_by (length (each.members));
            flock largest_flock &lt;- nearby_flocks at ((length (nearby_flocks)) - <span class="hljs-number">1</span>);
             
            remove largest_flock <span class="hljs-keyword">from</span>: nearby_flocks;
             
            list&lt;boids&gt; added_components ;
            loop one_flock over: nearby_flocks {
                release one_flock.members returns: released_boids; 
                
                loop rb over: released_boids {
                    add boids(rb) to: added_components;
                }
            }
            
            <span class="hljs-keyword">if</span> !(empty (added_components)) { 
                ask largest_flock {
                    capture added_components <span class="hljs-keyword">as</span>: boids_delegation;
                }
            } 
         }
    }
    
    aspect <span class="hljs-keyword">default</span> {
        draw shape color: color;
    }
}
    
<span class="hljs-comment">//Species to represent the boids aggregated</span>
species aggregatedboids{
    reflex updateLocation{
      location &lt;- mean (boids collect (each.location)); 
    }
    aspect base{        
        draw sphere(<span class="hljs-number">10</span>) color: rgb(<span class="hljs-string">'red'</span>);
    }
}
<span class="hljs-comment">//Species to represent the boids agent using the skill moving</span>
species boids skills: [moving] {
    <span class="hljs-comment">//Speed of the agent</span>
    float speed max: maximal_speed &lt;- maximal_speed;
    <span class="hljs-comment">//Range of movement for the neighbors</span>
    float range &lt;- minimal_distance * <span class="hljs-number">2</span>;
    <span class="hljs-comment">//Velocity of the agent</span>
    point velocity &lt;- {<span class="hljs-number">0</span>,<span class="hljs-number">0</span>};
    float hue &lt;- rnd(<span class="hljs-number">360</span>) / <span class="hljs-number">360</span>;
    
    <span class="hljs-comment">//List of the neighbors boids</span>
    list&lt;boids&gt; others update: ((boids overlapping (circle (range)))  - self);
    
    <span class="hljs-comment">//Point of the mass center of the "flock" considered as the neighbors agents</span>
    point mass_center update:  (length(others) &gt; <span class="hljs-number">0</span>) ? (mean (others collect (each.location)) )  : location;
    
    <span class="hljs-comment">//Reflex to do the separation of the agents with the other boids in the minimal distance</span>
    reflex separation when: apply_separation {
        point acc &lt;- {<span class="hljs-number">0</span>,<span class="hljs-number">0</span>}; 
        loop boid over: (boids overlapping (circle(minimal_distance)))  {
            acc &lt;- acc - ((location <span class="hljs-keyword">of</span> boid) - location);
        }  
        velocity &lt;- velocity + acc;
    }
    
    <span class="hljs-comment">//Reflex to do the alignement of the boids</span>
    reflex alignment when: apply_alignment {
        point acc &lt;- mean (others collect (each.velocity)) - velocity;
        velocity &lt;- velocity + (acc / alignment_factor);
    }
     
    <span class="hljs-comment">//Reflex to apply the cohesion using the mass center of the "flock"</span>
    reflex cohesion when: apply_cohesion {
        point acc &lt;- mass_center - location;
        acc &lt;- acc / cohesion_factor;
        velocity &lt;- velocity + acc; 
    }
    <span class="hljs-comment">//Reflex to avoid the obstacles</span>
    reflex avoid when: apply_avoid {
        point acc &lt;- {<span class="hljs-number">0</span>,<span class="hljs-number">0</span>};
        list&lt;obstacle&gt; nearby_obstacles &lt;- (obstacle overlapping (circle (range)) );
        loop obs over: nearby_obstacles {
            acc &lt;- acc - ((location <span class="hljs-keyword">of</span> obs) - my (location));
        }
        velocity &lt;- velocity + acc; 
    }
    <span class="hljs-comment">//action to represent the bounding of the movement of the boids</span>
    action bounding {
        <span class="hljs-keyword">if</span>  !(torus_environment) {
            <span class="hljs-keyword">if</span>  (location.x) &lt; xmin {
                velocity &lt;- velocity + {bounds,<span class="hljs-number">0</span>};
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (location.x) &gt; xmax {
                velocity &lt;- velocity - {bounds,<span class="hljs-number">0</span>};
            }
            
            <span class="hljs-keyword">if</span> (location.y) &lt; ymin {
                velocity &lt;- velocity + {<span class="hljs-number">0</span>,bounds};
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (location.y) &gt; ymax {
                velocity &lt;- velocity - {<span class="hljs-number">0</span>,bounds};
            }
            
        }
    }
    <span class="hljs-comment">//Reflex to follow the goal </span>
    reflex follow_goal when: apply_goal {
        velocity &lt;- velocity + ((goal - location) / cohesion_factor);
    }
    <span class="hljs-comment">//Reflex to apply the wind vector</span>
    reflex wind when: apply_wind {
        velocity &lt;- velocity + wind_vector;
    }
    <span class="hljs-comment">//action to move  </span>
    action do_move {  
        <span class="hljs-keyword">if</span> (((velocity.x) <span class="hljs-keyword">as</span> int) = <span class="hljs-number">0</span>) and (((velocity.y) <span class="hljs-keyword">as</span> int) = <span class="hljs-number">0</span>) {
            velocity &lt;- {(rnd(<span class="hljs-number">4</span>)) <span class="hljs-number">-2</span>, (rnd(<span class="hljs-number">4</span>)) - <span class="hljs-number">2</span>}; 
        }
        point old_location &lt;- location; 
        <span class="hljs-keyword">do</span> goto target: location + velocity;
        velocity &lt;- location - old_location; 
    }
    
    <span class="hljs-comment">//Reflex to do the movement, calling both bounding and do_move actions</span>
    reflex movement {
        <span class="hljs-keyword">do</span> bounding;
        <span class="hljs-keyword">do</span> do_move;
    }
    
    aspect basic{
        draw triangle(boids_size) color:rgb(<span class="hljs-string">'black'</span>);
    }
    aspect image {
        draw (images at (rnd(<span class="hljs-number">2</span>))) size: boids_size rotate: heading color: rgb(<span class="hljs-string">'black'</span>) ;                
    }
            
    aspect dynamicColor{
        rgb cc &lt;- hsb (float(heading)/<span class="hljs-number">360.0</span>,<span class="hljs-number">1.0</span>,<span class="hljs-number">1.0</span>);
        draw triangle(<span class="hljs-number">20</span>) size: <span class="hljs-number">15</span> rotate: <span class="hljs-number">90</span> + heading color: cc border:cc depth:<span class="hljs-number">5</span>;
        draw name;
    }
} 

<span class="hljs-comment">//Species which represents the obstacles using the skill moving</span>
species obstacle skills: [moving] {
    float speed &lt;- <span class="hljs-number">0.1</span>;  
    aspect <span class="hljs-keyword">default</span> {
        draw triangle(<span class="hljs-number">20</span>) color: rgb(<span class="hljs-string">'yellow'</span>) depth:<span class="hljs-number">5</span>;
    }
}



experiment start type: gui {
    output {
        display RealBoids  type:opengl z_fighting:<span class="hljs-literal">false</span> {
            image <span class="hljs-string">'background'</span> file:file_path_to_ocean;
            species boids aspect: dynamicColor  position:{<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>} trace: <span class="hljs-number">30</span>;
            species boids_goal transparency:<span class="hljs-number">0.2</span> position:{<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>};
            species obstacle position:{<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>};        
        }
    }
}

experiment trajectory_analysis type: gui {
    output {
        
        display RealBoids  type:opengl {
            image <span class="hljs-string">'background'</span> file:file_path_to_ocean;
            species boids aspect: dynamicColor transparency:<span class="hljs-number">0.5</span> position:{<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>};
            species boids aspect: image transparency:<span class="hljs-number">0.5</span> position:{<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.11</span>};
            species boids_goal transparency:<span class="hljs-number">0.2</span> position:{<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>};
            species obstacle position:{<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>};        
        }
                
        display AggregatedBoidsTrajectory  type:opengl  {
            image <span class="hljs-string">'background'</span> file:file_path_to_ocean;
            species aggregatedboids  aspect: base trace:<span class="hljs-number">100</span> fading: <span class="hljs-literal">true</span> ;
            species boids_goal aspect:sphere;       
        }
    } 
}

experiment SpaceTimeCube type: gui {
    output {
        display RealBoids  type:opengl {
            image <span class="hljs-string">'background'</span> file:file_path_to_ocean;
            species boids aspect: dynamicColor transparency:<span class="hljs-number">0.5</span> position:{<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>};
            species boids aspect: image transparency:<span class="hljs-number">0.5</span> position:{<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.11</span>};
            species boids_goal transparency:<span class="hljs-number">0.2</span> position:{<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>};
            species obstacle position:{<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>};        
        }
        
        display SpaceTimeCubeAll  type:opengl {
            image <span class="hljs-string">'background'</span> file:file_path_to_ocean;
            species boids trace:<span class="hljs-literal">true</span>{
                draw triangle(<span class="hljs-number">20</span>) size: <span class="hljs-number">15</span> rotate: <span class="hljs-number">90</span> + heading color: hsb (float(heading)/<span class="hljs-number">360.0</span>,<span class="hljs-number">1.0</span>,<span class="hljs-number">1.0</span>) border:hsb (float(heading)/<span class="hljs-number">360.0</span>,<span class="hljs-number">1.0</span>,<span class="hljs-number">1.0</span>) depth:<span class="hljs-number">5</span> at: {location.x ,location.y,location.z+time};   
            }
            species boids_goal trace:<span class="hljs-literal">true</span>{
                draw sphere(<span class="hljs-number">10</span>) color: rgb(<span class="hljs-string">'yellow'</span>) at: {location.x ,location.y,location.z+time};
            }   
        }
                
        display SpaceTimeCubeAggregated  type:opengl {
            image <span class="hljs-string">'background'</span> file:file_path_to_ocean;
            species aggregatedboids trace:<span class="hljs-literal">true</span>{
                draw sphere(<span class="hljs-number">10</span>) color: rgb(<span class="hljs-string">'red'</span>) at: {location.x ,location.y,location.z+time}; 
            }
            species boids_goal trace:<span class="hljs-literal">true</span>{
                draw sphere(<span class="hljs-number">10</span>) color: rgb(<span class="hljs-string">'yellow'</span>) at: {location.x ,location.y,location.z+time};
            }   
        }
    }
}

experiment MultipleView type: gui {
    output {


        display RealBoids   type:opengl {
            image <span class="hljs-string">'background'</span> file:file_path_to_ocean;
            species boids aspect: image  transparency:<span class="hljs-number">0.5</span> position:{<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.25</span>};
            species boids_goal transparency:<span class="hljs-number">0.2</span> position:{<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.25</span>};
            species obstacle ;
            species boids  aspect: dynamicColor transparency:<span class="hljs-number">0.2</span> position:{<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.24</span>};       
        }
        
        display ThirdPersonn  type:opengl camera_interaction:<span class="hljs-literal">false</span> camera_pos:{int(first(boids).location.x),int(first(boids).location.y),<span class="hljs-number">250</span>} 
        camera_look_pos:{int(first(boids).location.x),first(boids).location.y,<span class="hljs-number">0</span>} 
        camera_up_vector:{<span class="hljs-number">0.0</span>,<span class="hljs-number">-1.0</span>,<span class="hljs-number">0.0</span>} {
        
            image <span class="hljs-string">'background'</span> file:file_path_to_ocean;
            species obstacle;
            species boids  aspect: dynamicColor transparency:<span class="hljs-number">0.2</span> ;
            species boids_goal  transparency:<span class="hljs-number">0.2</span>;       
        }
        
            
        display FirstPerson  type:opengl camera_interaction:<span class="hljs-literal">false</span> camera_pos:{int(first(boids).location.x),int(first(boids).location.y),<span class="hljs-number">10</span>} 
            camera_look_pos:{cos(first(boids).heading)*first(boids).speed+int(first(boids).location.x),
            sin(first(boids).heading)*first(boids).speed+int(first(boids).location.y),<span class="hljs-number">10</span>} 
            camera_up_vector:{<span class="hljs-number">0.0</span>,<span class="hljs-number">0.0</span>,<span class="hljs-number">1.0</span>} {    
            image <span class="hljs-string">'background'</span> file:file_path_to_ocean;
            species obstacle ;
            species boids  aspect: dynamicColor transparency:<span class="hljs-number">0.2</span> ;
            species boids_goal  transparency:<span class="hljs-number">0.2</span>;       
        }
    }
}
</code></pre>
</span></div></article></div><div class="docs-prevnext"></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/BC2019-Gama-Site/" class="nav-home"><img src="/BC2019-Gama-Site/resources/images/general/GamaPlatform.png" alt="GAMA-Platform" width="66" height="58"/></a><div><h5>Docs</h5><a href="/BC2019-Gama-Site/docs/en/doc1.html">Getting Started (or other categories)</a><a href="/BC2019-Gama-Site/docs/en/doc2.html">Guides (or other categories)</a><a href="/BC2019-Gama-Site/docs/en/doc3.html">API Reference (or other categories)</a></div><div><h5>Community</h5><a href="/BC2019-Gama-Site/en/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://discordapp.com/">Project Chat</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/BC2019-Gama-Site/blog">Blog</a><a href="https://github.com/">GitHub</a></div></section><section class="copyright">Copyright © 2019 GAMA-Platform</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '0f9f28b9ab9efae89810921a351753b5',
                indexName: 'github',
                inputSelector: '#search_input_react'
              });
            </script></body></html>