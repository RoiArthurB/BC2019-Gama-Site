<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Tutorials/LearnGAMLStepByStep/DefiningAdvancedSpecies/MultiLevelArchitecture · Test Site</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="A website for testing"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Tutorials/LearnGAMLStepByStep/DefiningAdvancedSpecies/MultiLevelArchitecture · Test Site"/><meta property="og:type" content="website"/><meta property="og:url" content="https://roiarthurb.github.io/BC2019-Gama-Site/"/><meta property="og:description" content="A website for testing"/><meta property="og:image" content="https://roiarthurb.github.io/BC2019-Gama-Site/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://roiarthurb.github.io/BC2019-Gama-Site/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/BC2019-Gama-Site/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://roiarthurb.github.io/BC2019-Gama-Site/blog/atom.xml" title="Test Site Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://roiarthurb.github.io/BC2019-Gama-Site/blog/feed.xml" title="Test Site Blog RSS Feed"/><link rel="stylesheet" href="/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><link rel="stylesheet" href="/BC2019-Gama-Site/css/main.css"/><script src="/BC2019-Gama-Site/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/BC2019-Gama-Site/"><img class="logo" src="/BC2019-Gama-Site/img/favicon.ico" alt="Test Site"/><h2 class="headerTitleWithLogo">Test Site</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/BC2019-Gama-Site/docs/doc1" target="_self">Docs</a></li><li class=""><a href="/BC2019-Gama-Site/help" target="_self">Help</a></li><li class=""><a href="/BC2019-Gama-Site/blog/" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Tutorials/LearnGAMLStepByStep/DefiningAdvancedSpecies/MultiLevelArchitecture</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="multi-level-architecture"></a><a href="#multi-level-architecture" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Multi-level architecture</h1>
<p>The multi-level architecture offers the modeler the following possibilities: the declaration of a species as a micro-species of another species, the representation of an entity as different types of agent (i.e., GAML species), the dynamic migration of agents between populations.</p>
<h2><a class="anchor" aria-hidden="true" id="index"></a><a href="#index" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Index</h2>
<ul>
<li><a href="#declaration-of-micro-species">Declaration of micro-species</a></li>
<li><a href="#access-to-micro-agents-host-agent">Access to micro-agents / host agent</a></li>
<li><a href="#representation-of-an-entity-as-different-types-of-agent">Representation of an entity as different types of agent</a></li>
<li><a href="#dynamic-migration-of-agents">Dynamic migration of agents</a></li>
<li><a href="#example">Example</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="declaration-of-micro-species"></a><a href="#declaration-of-micro-species" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Declaration of micro-species</h2>
<p>A species can have other species as micro-species. The micro-species of a species is declared inside the species' declaration.</p>
<pre><code class="hljs">species <span class="hljs-class">macro_species </span>{
      species <span class="hljs-class">micro_species_in_group </span>{
      }
}
</code></pre>
<p>In the above example, &quot;micro_species_in_group&quot; is a micro-species of &quot;macro_species&quot;. An agent of &quot;macro_species&quot; can have agents &quot;micro_species_in_group&quot; as micro-agents. Agents of &quot;micro_species_in_group&quot; have an agent of &quot;macro_species&quot; as &quot;host&quot; agent.</p>
<p>As the species &quot;micro_species_in_group&quot; is declared inside the species &quot;macro_species&quot;, &quot;micro_species_in_group&quot; will return a list of &quot;micro_species_in_group&quot; agent inside the given &quot;macro_species&quot; agent.</p>
<pre><code class="hljs"><span class="hljs-section">global</span>
{
    <span class="hljs-section">init</span> {
        <span class="hljs-attribute">create</span> macro_species number:<span class="hljs-number">5</span>;
    }
}

<span class="hljs-attribute">species</span> macro_species 
{   
    <span class="hljs-section">init</span> {
        <span class="hljs-attribute">create</span> micro_species_in_group number:rnd(<span class="hljs-number">10</span>);
        <span class="hljs-attribute">write</span> <span class="hljs-string">"the macro species named "</span>+name+<span class="hljs-string">" contains "</span>+length(micro_species_in_group)+<span class="hljs-string">" micro-species."</span>;
    }
    
    <span class="hljs-attribute">species</span> micro_species_in_group {
    }
}

<span class="hljs-attribute">experiment</span> my_experiment type: gui {
}
</code></pre>
<p>In this above example, we create 5 macro-species, and each one of these macro-species create a random number of inner micro-species. We can see that &quot;micro_species_in_group&quot; refers to the list of micro-species inside the given macro-species.</p>
<h2><a class="anchor" aria-hidden="true" id="access-to-micro-agents-host-agent"></a><a href="#access-to-micro-agents-host-agent" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Access to micro-agents, host agent</h2>
<p>To access to micro-agents (from a macro-agent), and to host agent (from a micro-agents), you have to use two built-in attributes.</p>
<p>The <code>members</code> built-in attribute is used inside the macro-agent, to get the list of all its micro-agents.</p>
<pre><code class="hljs"><span class="hljs-attribute">species</span> macro_species 
{
    <span class="hljs-section">init</span> {
        <span class="hljs-attribute">create</span> first_micro_species number:<span class="hljs-number">3</span>;
        <span class="hljs-attribute">create</span> second_micro_species number:<span class="hljs-number">6</span>;
        <span class="hljs-attribute">write</span> <span class="hljs-string">"the macro species named "</span>+name+<span class="hljs-string">" contains "</span>+length(members)+<span class="hljs-string">" micro-species."</span>;
    }
    
    <span class="hljs-attribute">species</span> first_micro_species {
    }
    
    <span class="hljs-attribute">species</span> second_micro_species {
    }
}
</code></pre>
<p>The <code>host</code> built-in attribute is used inside the micro-agent to get the host macro-agent.</p>
<pre><code class="hljs"><span class="hljs-attribute">species</span> macro_species {
    
    <span class="hljs-attribute">micro_species_in_group</span> micro_agent;
    
    <span class="hljs-section">init</span> {
        <span class="hljs-attribute">create</span> micro_species_in_group number:rnd(<span class="hljs-number">10</span>);
        <span class="hljs-attribute">write</span> <span class="hljs-string">"the macro species named "</span>+name+<span class="hljs-string">" contains "</span>+length(members)+<span class="hljs-string">" micro-species."</span>;
    }
    
    <span class="hljs-attribute">species</span> micro_species_in_group {
        <span class="hljs-section">init</span> {
            <span class="hljs-attribute">write</span> <span class="hljs-string">"the micro species named "</span>+name+<span class="hljs-string">" is hosted by "</span>+host;
        }
    }
}
</code></pre>
<p>NB: We already said that the world agent is a particular agent, instantiated just once. In fact, the world agent is the host of all the agents. You can try to get the host for a regular species, you will get the world agent itself (named as you named your model). You can also try to get the members of your world (from the global scope for example), and you will get the list of the agents presents in the world.</p>
<pre><code class="hljs"><span class="hljs-section">global</span>
{
    <span class="hljs-section">init</span> {
        <span class="hljs-attribute">create</span> macro_species number:<span class="hljs-number">5</span>;
        <span class="hljs-attribute">write</span> <span class="hljs-string">"the world has "</span>+length(members)+<span class="hljs-string">" members."</span>;
    }
}

<span class="hljs-attribute">species</span> macro_species 
{   
    <span class="hljs-section">init</span> {
        <span class="hljs-attribute">write</span> <span class="hljs-string">"the macro species named "</span>+name+<span class="hljs-string">" is hosted by "</span>+host;
    }
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="representation-of-an-entity-as-different-types-of-agent"></a><a href="#representation-of-an-entity-as-different-types-of-agent" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Representation of an entity as different types of agent</h2>
<p>The multi-level architecture is often used in order to represent an entity through different types of agent. For example, an agent &quot;bee&quot; can have a behavior when it is alone, but when the agent is near from a lot of agents, he can changes his type to &quot;bee_in_swarm&quot;, defined as a micro-species of a macro-species &quot;swarm&quot;. Other example: an agent &quot;pedestrian&quot; can have a certain behavior when walking on the street, and then change his type to &quot;pedestrian_in_building&quot; when he is in a macro-species &quot;building&quot;.
You have then to distinguish two different species to define your micro-species:</p>
<ul>
<li>The first can be seen as a regular species (it is the &quot;bee&quot; or the &quot;pedestrian&quot; for instance). We will name this species as &quot;micro_species&quot;.</li>
<li>The second is the real micro-species, defined inside the macro-species (it is the &quot;bee_in_swarm&quot; or the &quot;pedestrian_in_building&quot; for instance). We will name this species as &quot;micro_species_in_group&quot;. This species has to inherit from the &quot;micro_species&quot;.</li>
</ul>
<pre><code class="hljs"><span class="hljs-attribute">species</span> micro_species {
}

<span class="hljs-attribute">species</span> macro_species 
{   
    <span class="hljs-attribute">species</span> micro_species_in_group parent: micro_species {
    }
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="dynamic-migration-of-agents"></a><a href="#dynamic-migration-of-agents" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dynamic migration of agents</h2>
<p>In our example about bees, a &quot;swarm&quot; entity is composed of nearby flying &quot;bee&quot; entities. When a &quot;bee&quot; entity approaches a &quot;swarm&quot; entity, this &quot;bee&quot; entity will become a member of the group. To represent this, the modeler lets the &quot;bee&quot; agent change its species to &quot;bee_in_swarm&quot; species. The &quot;bee&quot; agent hence becomes a &quot;bee_in_swarm&quot; agent. To change species of agent, we can use one of the following statements: <code>capture</code>, <code>release</code>, <code>migrate</code>.</p>
<p>The statement <code>capture</code> is used by the &quot;macro_species&quot; to capture one (or several) &quot;micro_species&quot; agent(s), and turn it (them) to a &quot;micro_species_in_group&quot;. You can specify which agent (or list of agents) you want to capture by using the facet <code>target</code>. The facet <code>as</code> is used to cast the agent from &quot;micro_species&quot; to &quot;micro_species_in_group&quot;. You can use the facet <code>return</code> to get the newly captured agent(s).</p>
<pre><code class="hljs"><span class="hljs-selector-tag">capture</span> <span class="hljs-selector-tag">target</span><span class="hljs-selector-pseudo">:micro_species</span> <span class="hljs-selector-tag">as</span><span class="hljs-selector-pseudo">:micro_species_in_group</span>;
</code></pre>
<p>The statement <code>release</code> is used by the &quot;macro_species&quot; to release one (or several) &quot;micro_species_in_group&quot; agent(s), and turn it (them) to a &quot;micro_species&quot;. You can specify which agent (or list of agents) you want to release by using the facet <code>target</code>. The facet <code>as</code> is used to cast the agent from &quot;micro_species_in_group&quot; to &quot;micro_species&quot;. The facet <code>in</code> is used to specify the new host (by default, it is the host of the &quot;macro_species&quot;). You can use the facet <code>return</code> to get the newly released agent(s).</p>
<pre><code class="hljs"><span class="hljs-keyword">release</span> target:<span class="hljs-keyword">list</span>(micro_species_in_group) <span class="hljs-keyword">as</span>:micro_species <span class="hljs-keyword">in</span>:world;
</code></pre>
<p>The statement <code>migrate</code>, less used, permits agents to migrate from one population/species to another population/species and stay in the same host after the migration. Read the GAML Reference to learn more about this statement.</p>
<h2><a class="anchor" aria-hidden="true" id="example"></a><a href="#example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example:</h2>
<p>Here is an example of micro_species that gather together in macro_species when they are close enough.</p>
<p><img src="resources/images/definingAdvancedSpecies/multilevel_model.png" alt="images/multilevel_model.png"></p>
<pre><code class="hljs"><span class="hljs-attr">model</span> <span class="hljs-string">multilevel</span>

<span class="hljs-attr">global</span> <span class="hljs-string">{</span>
    <span class="hljs-attr">int</span> <span class="hljs-string">release_time &lt;- 20;</span>
    <span class="hljs-attr">int</span> <span class="hljs-string">capture_time &lt;- 100;</span>
    <span class="hljs-attr">int</span> <span class="hljs-string">remaining_release_time &lt;- 0;</span>
    <span class="hljs-attr">int</span> <span class="hljs-string">remaining_capture_time &lt;- capture_time;</span>
    <span class="hljs-attr">init</span> <span class="hljs-string">{</span>
        <span class="hljs-attr">create</span> <span class="hljs-string">micro_species number:200;</span>
    <span class="hljs-attr">}</span>
    <span class="hljs-attr">reflex</span> <span class="hljs-string">reflex_timer {</span>
        <span class="hljs-attr">if</span> <span class="hljs-string">(remaining_release_time=1)</span>
        <span class="hljs-attr">{</span>
            <span class="hljs-attr">remaining_release_time</span> <span class="hljs-string">&lt;- 0;</span>
            <span class="hljs-attr">remaining_capture_time</span> <span class="hljs-string">&lt;- capture_time;</span>
        <span class="hljs-attr">}</span>
        <span class="hljs-attr">else</span> <span class="hljs-string">if (remaining_capture_time=1)</span>
        <span class="hljs-attr">{</span>
            <span class="hljs-attr">remaining_capture_time</span> <span class="hljs-string">&lt;- 0;</span>
            <span class="hljs-attr">remaining_release_time</span> <span class="hljs-string">&lt;- release_time;</span>
        <span class="hljs-attr">}</span>
        <span class="hljs-attr">remaining_release_time</span> <span class="hljs-string">&lt;- remaining_release_time - 1;</span>
        <span class="hljs-attr">remaining_capture_time</span> <span class="hljs-string">&lt;- remaining_capture_time - 1;</span>
    <span class="hljs-attr">}</span>
    <span class="hljs-attr">reflex</span> <span class="hljs-string">capture_micro_species when:(remaining_capture_time&gt;0 and flip(0.1)) {</span>
        <span class="hljs-attr">ask</span> <span class="hljs-string">macro_species {</span>
            <span class="hljs-meta">list&lt;micro_species&gt;</span> <span class="hljs-string">micro_species_in_range &lt;- micro_species at_distance 1;</span>
            <span class="hljs-attr">if</span> <span class="hljs-string">(micro_species_in_range != []) {</span>
                <span class="hljs-attr">do</span> <span class="hljs-string">capture_micro_species(micro_species_in_range);</span>
            <span class="hljs-attr">}</span>
        <span class="hljs-attr">}</span>
        <span class="hljs-attr">ask</span> <span class="hljs-string">micro_species {</span>
            <span class="hljs-meta">list&lt;micro_species&gt;</span> <span class="hljs-string">micro_species_list_to_be_captured &lt;- micro_species at_distance 1;</span>
            <span class="hljs-meta">if(micro_species_list_to_be_captured</span> <span class="hljs-string">!= []) {</span>
                <span class="hljs-attr">create</span> <span class="hljs-string">macro_species {</span>
                    <span class="hljs-attr">location</span> <span class="hljs-string">&lt;- myself.location;</span>
                    <span class="hljs-attr">add</span> <span class="hljs-string">item:myself to:micro_species_list_to_be_captured;</span>
                    <span class="hljs-attr">do</span> <span class="hljs-string">capture_micro_species(micro_species_list_to_be_captured);</span>
                <span class="hljs-attr">}</span>
            <span class="hljs-attr">}</span>
        <span class="hljs-attr">}</span>
    <span class="hljs-attr">}</span>
<span class="hljs-attr">}</span>

<span class="hljs-attr">species</span> <span class="hljs-string">micro_species skills:[moving] {</span>
    <span class="hljs-attr">geometry</span> <span class="hljs-string">shape &lt;- circle(1);</span>
    <span class="hljs-attr">aspect</span> <span class="hljs-string">base {</span>
        <span class="hljs-attr">draw</span> <span class="hljs-string">shape;</span>
    <span class="hljs-attr">}</span>
    <span class="hljs-attr">reflex</span> <span class="hljs-string">move{</span>
        <span class="hljs-attr">do</span> <span class="hljs-string">wander;</span>
    <span class="hljs-attr">}</span>
<span class="hljs-attr">}</span>

<span class="hljs-attr">species</span> <span class="hljs-string">macro_species {</span>
    <span class="hljs-attr">geometry</span> <span class="hljs-string">shape &lt;- circle(1) update:circle(length(members));</span>
    
    <span class="hljs-attr">species</span> <span class="hljs-string">micro_species_in_group parent:micro_species {</span>
    <span class="hljs-attr">}</span>
    
    <span class="hljs-attr">action</span> <span class="hljs-string">capture_micro_species(list&lt;micro_species&gt; micro_list) {</span>
        <span class="hljs-attr">loop</span> <span class="hljs-string">mic_sp over:micro_list {</span>
            <span class="hljs-attr">capture</span> <span class="hljs-string">mic_sp as:micro_species_in_group;</span>
        <span class="hljs-attr">}</span>
    <span class="hljs-attr">}</span>
    
    <span class="hljs-attr">reflex</span> <span class="hljs-string">release_reflex when:(remaining_release_time&gt;0 and flip(0.1)) {</span>
        <span class="hljs-attr">release</span> <span class="hljs-string">members as:micro_species /*in:world*/;</span>
        <span class="hljs-attr">do</span> <span class="hljs-string">die;</span>
    <span class="hljs-attr">}</span>
    
    <span class="hljs-attr">aspect</span> <span class="hljs-string">base {</span>
        <span class="hljs-attr">draw</span> <span class="hljs-string">shape;</span>
        <span class="hljs-attr">draw</span> <span class="hljs-string">text:string(length(members)) color:#black size:4;</span>
    <span class="hljs-attr">}</span>
<span class="hljs-attr">}</span>

<span class="hljs-attr">experiment</span> <span class="hljs-string">MyExperiment type: gui {</span>
    <span class="hljs-attr">output</span> <span class="hljs-string">{</span>
        <span class="hljs-attr">display</span> <span class="hljs-string">MyDisplay type: java2D {</span>
            <span class="hljs-attr">species</span> <span class="hljs-string">macro_species aspect: base;</span>
            <span class="hljs-attr">species</span> <span class="hljs-string">micro_species aspect: base;</span>
        <span class="hljs-attr">}</span>
    <span class="hljs-attr">}</span>
<span class="hljs-attr">}</span>
</code></pre>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#index">Index</a></li><li><a href="#declaration-of-micro-species">Declaration of micro-species</a></li><li><a href="#access-to-micro-agents-host-agent">Access to micro-agents, host agent</a></li><li><a href="#representation-of-an-entity-as-different-types-of-agent">Representation of an entity as different types of agent</a></li><li><a href="#dynamic-migration-of-agents">Dynamic migration of agents</a></li><li><a href="#example">Example:</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/BC2019-Gama-Site/" class="nav-home"><img src="/BC2019-Gama-Site/img/favicon.ico" alt="Test Site" width="66" height="58"/></a><div><h5>Docs</h5><a href="/BC2019-Gama-Site/docs/en/doc1.html">Getting Started (or other categories)</a><a href="/BC2019-Gama-Site/docs/en/doc2.html">Guides (or other categories)</a><a href="/BC2019-Gama-Site/docs/en/doc3.html">API Reference (or other categories)</a></div><div><h5>Community</h5><a href="/BC2019-Gama-Site/en/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://discordapp.com/">Project Chat</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/BC2019-Gama-Site/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://opensource.facebook.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/BC2019-Gama-Site/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2019 GAMA-Platform</section></footer></div></body></html>