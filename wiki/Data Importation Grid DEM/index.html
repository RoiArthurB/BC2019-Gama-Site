<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>ASCII File to DEM Representation · GAMA-Platform</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="GAMA"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="ASCII File to DEM Representation · GAMA-Platform"/><meta property="og:type" content="website"/><meta property="og:url" content="https://roiarthurb.github.io/BC2019-Gama-Site/"/><meta property="og:description" content="GAMA"/><meta property="og:image" content="https://roiarthurb.github.io/BC2019-Gama-Site//resources/images/general/GamaPlatform.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://roiarthurb.github.io/BC2019-Gama-Site//resources/images/general/GamaPlatform.png"/><link rel="shortcut icon" href="/BC2019-Gama-Site//img/gama-logo.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="/BC2019-Gama-Site/css/code-block-buttons.css"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"/><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.4.4/fuse.min.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js" async=""></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js" async=""></script><script type="text/javascript" src="/BC2019-Gama-Site/js/code-block-buttons.js" async=""></script><script type="text/javascript" src="/BC2019-Gama-Site/js/searchEngine.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><link rel="stylesheet" href="/BC2019-Gama-Site/css/main.css"/><script src="/BC2019-Gama-Site/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/BC2019-Gama-Site/"><img class="logo" src="/BC2019-Gama-Site//img/gama-logo_white.png" alt="GAMA-Platform"/><h2 class="headerTitleWithLogo">GAMA-Platform</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/BC2019-Gama-Site/wiki/Home" target="_self">Documentation</a></li><li class=""><a href="/BC2019-Gama-Site/wiki/Tutorials" target="_self">Tutorials</a></li><li class=""><a href="/BC2019-Gama-Site/help" target="_self">Download</a></li><li class=""><a href="/BC2019-Gama-Site/wiki/Contribute" target="_self">Contribute</a></li><li class=""><a target="_self"></a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">ASCII File to DEM Representation</h1></header><article><div><span><p><em>Author : Arnaud Grignard</em></p>
<p>Model to show how to import a ASCII File to make a DEM Representation and apply a Texture on it. In this model, three experiments are presented : DEM to show the grid elevation using the ASCII File as data for the height of the cells, and showing different 3D displays. GridDEMComplete shows more displays with the three of the previous experiment, the grid of the cells in a 2D Display, with the Elevation but without triangulation, and the grid with text values to show the content of the ASCII used by the cells. GraphicDEMComplete shows the use of the z_factor to amplify or reduces the difference between the z values of a Dem geometry.</p>
<p>Code of the model :</p>
<pre><code class="hljs">
model gridloading

global {
    file grid_data &lt;- file(<span class="hljs-string">"../includes/DEM-Vulcano/vulcano_50.asc"</span>);
    file dem parameter: <span class="hljs-string">'DEM'</span> &lt;- file(<span class="hljs-string">'../includes/DEM-Vulcano/DEM.png'</span>);
    file texture parameter: <span class="hljs-string">'Texture'</span> &lt;- file(<span class="hljs-string">'../includes/DEM-Vulcano/Texture.png'</span>);
    geometry shape &lt;- envelope(200);
    init
    {
        ask cell
        {
            float r;
            float g;
            float b;
            if(grid_value&lt;20)
            {
                r&lt;- 76+(26*(grid_value-7)/13);
                g&lt;- 153-(51*(grid_value-7)/13);
                b&lt;-0.0;
            }
            else
            {
                r&lt;- 102+(122*(grid_value-20)/19);
                g&lt;- 51+(173*(grid_value-20)/19);
                b&lt;- 224*(grid_value-20)/19;
            }
            self.color&lt;-rgb(r,g,b);
        }
    }
}

grid cell file: grid_data {
    rgb color;
    reflex decreaseValue {
        grid_value &lt;- grid_value  + rnd (0.2) - 0.1;
    }
}

experiment DEM type: gui {
    output {

        <span class="hljs-comment">//Display the grid triangulated in 3D with the cell altitude corresponding to its grid_value and the color cells (if defined otherwise in black)</span>
        display gridWithElevationTriangulated type: opengl autosave: true{ 
            grid cell elevation: true triangulation: true ;
        }

        <span class="hljs-comment">//Display the grid triangulated in 3D with the cell altitude corresponding to its grid_value and the color of cells as a gray value corresponding to grid_value / maxZ *255</span>
        display gridGrayScaledTriangulated type: opengl { 
            grid cell elevation: true grayscale: true triangulation: true;
        }

        <span class="hljs-comment">//Display the textured grid in 3D with the cell altitude corresponding to its grid_value.               </span>
        display gridTextured type: opengl { 
            grid cell texture: texture text: false triangulation: true elevation: true;
        }
    }

}

experiment GridDEMComplete type: gui {
    output {

    <span class="hljs-comment">//Display the grid on a plan with cell color (if defined otherwise in black)</span>
        display grid type: opengl { <span class="hljs-comment">//Same as in java2D</span>
            grid cell;
        }

        <span class="hljs-comment">//Display the grid in 3D with the cell altitude corresponding to its grid_value and the color cells (if defined otherwise in black)</span>
        display gridWithElevation type: opengl { 
            grid cell elevation: true;
        }

        <span class="hljs-comment">//Display the grid triangulated in 3D with the cell altitude corresponding to its grid_value and the color cells (if defined otherwise in black)</span>
        display gridWithElevationTriangulated type: opengl { 
            grid cell elevation: true triangulation: true ;
        }

        <span class="hljs-comment">//Display the grid in 3D with the cell altitude corresponding to its grid_value and the color of cells as a gray value corresponding to grid_value / maxZ *255</span>
        display gridGrayScaled type: opengl { 
            grid cell elevation: true grayscale: true;
        }
        <span class="hljs-comment">//Display the grid triangulated in 3D with the cell altitude corresponding to its grid_value and the color of cells as a gray value corresponding to grid_value / maxZ *255</span>
        display gridGrayScaledTriangulated type: opengl { 
            grid cell elevation: true grayscale: true triangulation: true;
        }

        <span class="hljs-comment">//Display the textured grid in 3D with the cell altitude corresponding to its grid_value.               </span>
        display gridTextured type: opengl { 
            grid cell texture: texture text: false triangulation: false elevation: true;
        }

        <span class="hljs-comment">//Display the textured triangulated grid in 3D with the cell altitude corresponding to its grid_value.</span>
        display gridTexturedTriangulated type: opengl { 
            grid cell texture: texture text: false triangulation: true elevation: true;
        }
        display gridWithText type: opengl { 
            grid cell text: true elevation: true grayscale: true;
        }
    }

}

experiment GraphicDEMComplete type: gui {
    output {
        display VulcanoTexturedScaled type: opengl draw_env: false { 
            graphics <span class="hljs-string">'GraphicPrimitive'</span> {
                draw dem(dem, texture, 0.1);
            }
        } 
        display VulcanoDEMScaled type: opengl draw_env: false { 
            graphics <span class="hljs-string">'GraphicPrimitive'</span> {
                draw dem(dem, 0.1);
            }
        } 
        display VulcanoTextured type: opengl draw_env: false { 
            graphics <span class="hljs-string">'GraphicPrimitive'</span> {
                draw dem(dem, texture);
            }
        } 
        display VulcanoDEM type: opengl draw_env: false { 
            graphics <span class="hljs-string">'GraphicPrimitive'</span> {
                draw dem(dem);
            }
        }
    }
}
</code></pre>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/BC2019-Gama-Site/" class="nav-home"><img src="/BC2019-Gama-Site//img/gama-logo.png" alt="GAMA-Platform" width="66" height="58"/></a><div><h5>Networks</h5><a href="https://www.youtube.com/channel/UCWJ1kWGDDI-9u2f2uD0gcaQ" target="_blank"><i class="fab fa-youtube"></i> Youtube</a><a href="https://www.linkedin.com/company/gama-platform" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a><a href="https://twitter.com/gamaplatform" target="_blank"><i class="fab fa-twitter"></i> Twitter</a><a href="https://www.facebook.com/GamaPlatform/" target="_blank"><i class="fab fa-facebook"></i> Facebook</a></div><div><h5>Mailing list</h5><a href="https://groups.google.com/forum/#!forum/gama-platform" target="_blank"><i class="fas fa-envelope"></i> For Users<br/>gama-platform@googlegroups.com</a><a href="https://groups.google.com/forum/#!forum/gama-dev" target="_blank"><i class="fas fa-envelope"></i> For Developers<br/>gama-dev@googlegroups.com</a></div><div><h5>Ecosystem</h5><a href="https://github.com/gama-platform/gama"><i class="fab fa-github"></i> GitHub Gama</a><a href="https://github.com/gama-platform/gama.experimental"><i class="fas fa-puzzle-piece"></i> Gama Experimental Plugins</a><a href="https://github.com/gama-platform/gama.models.experimental"><i class="fas fa-scroll"></i> Gama Experimental Models</a></div></section><section class="copyright">Copyright © 2019 GAMA-Platform</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '0f9f28b9ab9efae89810921a351753b5',
                indexName: 'github',
                inputSelector: '#search_input_react'
              });
            </script></body></html>